<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" ng-app="mappifyApp"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <title>Mappify</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,300,400italic,400,600italic,600,700italic,700,800italic,800"
          rel="stylesheet" type="text/css">
    <script src="http://maps.google.com/maps/api/js?v=3&sensor=false"></script>

    <!-- inject:vendor:css -->
    <link rel="stylesheet" href="/bower_components/components-font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="/bower_components/leaflet/dist/leaflet.css">
    <link rel="stylesheet" href="/bower_components/Leaflet.awesome-markers/dist/leaflet.awesome-markers.css">
    <link rel="stylesheet" href="/bower_components/angular-motion/dist/angular-motion.css">
    <!-- endinject -->
    <!-- inject:css -->
    <link rel="stylesheet" href="/styles/app.css">
    <!-- endinject -->

</head>
<body ng-cloak>
<div ng-controller="AppCtrl">
    <div class="col-xs-2" style="padding: 0;">
        <div ui-view="sidebar" id="sidebar" ></div>
    </div>
    <div class="col-xs-10" style="padding: 0;">
        <div ui-view="map"></div>
    </div>
</div>

<!-- inject:vendor:js -->
<script src="/bower_components/angular/angular.js"></script>
<script src="/bower_components/bluebird/js/browser/bluebird.js"></script>
<script src="/bower_components/lodash/lodash.js"></script>
<script src="/bower_components/leaflet/dist/leaflet-src.js"></script>
<script src="/bower_components/leaflet-plugins/layer/tile/Google.js"></script>
<script src="/bower_components/Leaflet.awesome-markers/dist/leaflet.awesome-markers.js"></script>
<script src="/bower_components/jquery/dist/jquery.js"></script>
<script src="/bower_components/terraformer/terraformer.min.js"></script>
<script src="/bower_components/terraformer-wkt-parser/terraformer-wkt-parser.min.js"></script>
<script src="/bower_components/chance/chance.js"></script>
<script src="/bower_components/jassa/jassa.js"></script>
<script src="/bower_components/angular-animate/angular-animate.js"></script>
<script src="/bower_components/angular-cookies/angular-cookies.js"></script>
<script src="/bower_components/angular-resource/angular-resource.js"></script>
<script src="/bower_components/angular-sanitize/angular-sanitize.js"></script>
<script src="/bower_components/ui-router/release/angular-ui-router.js"></script>
<script src="/bower_components/mappify-map/mappify-map.js"></script>
<script src="/bower_components/angular-strap/dist/angular-strap.js"></script>
<script src="/bower_components/angular-strap/dist/angular-strap.tpl.js"></script>
<!-- endinject -->
<!-- inject:js -->
<script src="/subsection-sidebar/modals/tileLayer/tileLayerCtrl.js"></script>
<script src="/subsection-sidebar/modals/markerStyle/markerStyleCtrl.js"></script>
<script src="/subsection-sidebar/modals/load/loadCtrl.js"></script>
<script src="/subsection-sidebar/modals/layout/layoutCtrl.js"></script>
<script src="/subsection-sidebar/modals/download/downloadCtrl.js"></script>
<script src="/subsection-sidebar/modals/dataSource/dataSourceCtrl.js"></script>
<script src="/components/zenubu.ngStrap/modal/modal.js"></script>
<script src="/components/zenubu.ngStrap/dropdown/dropdown.js"></script>
<script src="/components/zenubu.ngStrap/datepicker/datepicker.js"></script>
<script src="/subsection-core/service/jassaDataSourceFactory.js"></script>
<script src="/subsection-core/model/tileLayerModel.js"></script>
<script src="/subsection-core/model/scaffoldingConfigModel.js"></script>
<script src="/subsection-core/model/markerStyleModel.js"></script>
<script src="/subsection-core/model/dataSourceServiceModel.js"></script>
<script src="/components/zenubu.ngStrap/zenubu.ngStrap.js"></script>
<script src="/subsection-sidebar/sidebar.js"></script>
<script src="/subsection-main/main.js"></script>
<script src="/app.js"></script>
<!-- endinject -->
<script>
    // global jassa object
    jassa = new Jassa(Promise, function() {
        var jqXHR = $.ajax.apply(this, arguments);

        // todo: move to util method
        //  - if no second argument is passed use this as default

        // r short form for inline result
        var r = Promise.resolve(jqXHR)
                .cancellable()
                .catch(Promise.TimeoutError, Promise.CancellationError, function(e) {
                    //console.log('CANCELLED REQUEST');
                    jqXHR.abort();
                    throw e;
                });
        return r;
    });
</script>
</body>
</html>
