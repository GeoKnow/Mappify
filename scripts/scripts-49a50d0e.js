!function(){"use strict";function e(){return function(e){return e}}function a(e,a){e.state("root",{url:"/",views:{sidebar:{controller:"SidebarController",controllerAs:"sidebar",templateUrl:"/subsection-sidebar/sidebar.tpl.html"},map:{controller:"MainController",controllerAs:"main",templateUrl:"/subsection-main/main.tpl.html"}}}),a.otherwise("/")}function t(){}angular.module("mappifyApp",["mappifyApp.sidebar","mappifyApp.main","zenubu.ngStrap","mappify","ui.router"]).controller("AppCtrl",t).filter("translate",e).config(a).run(function(){L.Icon.Default.imagePath="images"}),a.$inject=["$stateProvider","$urlRouterProvider"]}(),angular.module("mappifyApp").run(["$templateCache",function(e){e.put("/subsection-main/main.tpl.html","<div ng-if=main.showMap><mappify id=map datasource=main.datasource config=main.config></mappify></div>"),e.put("/subsection-sidebar/sidebar.tpl.html",'<div class=col-xs-12><div class="h3 text-center">Mappify</div><br></div><div class=clearfix></div><ul class=navigation><li ng-repeat="modal in sidebar.availableModals | filter: { id: \'!\' + \'generator\'}"><a href="" ng-click=modal.open()><i class="fa fa-fw" ng-class="\'fa-\' + modal.icon"></i> {{modal.title}}</a></li></ul><div class=col-xs-12><hr><button ng-click=sidebar.generatorModal().open() class="btn btn-primary btn-block text-left"><i class="fa fa-fw fa-cogs"></i> Generate AngularJS App</button></div><div class=col-xs-12 style="position: absolute; bottom: 15px"><button class="btn btn-info btn-block text-left" ng-click=sidebar.refreshConfig() id=refreshButton><i class="fa fa-fw fa-refresh" ng-class="(sidebar.currentlyRefreshing) ? \'fa-spin\' : \'\'"></i> Refresh map</button><hr><button class="btn btn-block text-left" ng-class="(sidebar.autoRefresh)?\'btn-success\':\'btn-warning\'" ng-click=sidebar.toggleAutoRefresh() id=autoRefresh><i class="fa fa-fw" ng-class="(sidebar.autoRefresh) ? \'fa-toggle-on\' : \'fa-toggle-off\'"></i> Autorefresh <span ng-if=sidebar.autoRefresh>on</span> <span ng-if=!sidebar.autoRefresh>off</span></button></div>'),e.put("/bower_components/angular-bootstrap-forms/src/zenubuForm.tpl.html","<form name=Form ng-submit=submit() novalidate><div ng-transclude></div></form>"),e.put("/bower_components/angular-bootstrap-forms/src/zenubuInput.tpl.html","<ng-form name=innerForm><div ng-class=\"{'has-error' : hasError()}\" class=\"form-group has-feedback\"><label ng-if=hasLabel>{{label}}</label><div ng-class=\"{'input-group' : inputGroup}\"><input type={{validation.type}} class=form-control name=input ng-class=\"{'input-lg': large}\" ng-if=!sameAs ng-trim=false ng-model=model[field] ng-maxlength={{validation.maxLength}} ng-minlength={{validation.minLength}} ng-change=change validator-regex={{validation.regex.pattern}} max={{validation.max}} min={{validation.min}} ng-required={{validation.required}} placeholder=\"{{ placeholder |translate }}\"> <input type={{validation.type}} class=form-control name=input ng-if=!!sameAs ng-change=change ng-trim=false ng-model=model[field] password-verify=model[sameAs] ng-maxlength={{validation.maxLength}} ng-minlength={{validation.minLength}} max={{validation.max}} min={{validation.min}} ng-required=validation.required placeholder=\"{{ placeholder |translate }}\"> <span class=\"fa fa-fw fa-asterisk single-input-feedback\" ng-class=\"{'text-danger' : hasError(), 'has-label': hasLabel}\" ng-if=validation.required focus-input></span></div><p ng-if=hasError() class=help-block><label class=control-label><span ng-show=innerForm.input.$error.validatorRegex>{{ validation.regex.error | translate }}</span> <span ng-show=innerForm.input.$error.email>{{ 'EMAIL_ERROR' | translate }}</span> <span ng-show=innerForm.input.$error.number>{{ 'NUMBER_ERROR' | translate }}</span> <span ng-show=innerForm.input.$error.required>{{ 'REQUIRED_ERROR' | translate }}</span> <span ng-show=innerForm.input.$error.maxlength>{{ 'MAXLENGTH_ERROR' | translate:{length:validation.maxLength} }}</span> <span ng-show=innerForm.input.$error.minlength>{{ 'MINLENGTH_ERROR' | translate:{length:validation.minLength} }}</span> <span ng-show=innerForm.input.$error.max>{{ 'MAX_ERROR' | translate:{length:validation.max} }}</span> <span ng-show=innerForm.input.$error.min>{{ 'MIN_ERROR' | translate:{length:validation.min} }}</span> <span ng-show=innerForm.input.$error.passwordVerify>{{ 'PASSWORD_NO_MATCH' | translate }}</span></label></p></div></ng-form>"),e.put("/bower_components/angular-bootstrap-forms/src/zenubuReset.tpl.html",'<a class="btn btn-primary no-icon" ng-click=reset() ng-disabled="isSaving() || isPristine() || disabled"><span ng-transclude></span></a>'),e.put("/bower_components/angular-bootstrap-forms/src/zenubuSelect.tpl.html",'<div><div ng-switch=validation.type ng-class="{\'has-error\' : hasError()}" class="form-group has-feedback"><label ng-if=hasLabel>{{label}}</label><div ng-switch-when=array><ui-select ng-model=model[field] theme=bootstrap ng-required={{validation.required}}><ui-select-match placeholder="{{ placeholder |translate }}">{{ $select.selected}}</ui-select-match><ui-select-choices repeat="item in valueObject | filter: $select.search"><div ng-bind-html="item | highlight: $select.search"></div></ui-select-choices></ui-select></div><div ng-switch-when=translatableArray><ui-select ng-model=model[field] theme=bootstrap ng-required={{validation.required}}><ui-select-match placeholder="{{ placeholder |translate }}">{{ translatablePrefix + $select.selected.code | translate}}</ui-select-match><ui-select-choices repeat="item.code as item in valueObject | filter: $select.search"><div ng-bind-html=" item.name | highlight: $select.search"></div></ui-select-choices></ui-select></div><span class=select-feedback ng-if=validation.required focus-select ng-class="{\'text-danger\' : hasError(), \'has-label\': hasLabel}"><i class="fa fa-fw fa-sort"></i> <i class="fa fa-fw fa-asterisk single-input-feedback"></i></span> <span class="fa fa-fw fa-sort single-input-feedback" ng-class="{\'text-danger\' : hasError(), \'has-label\': hasLabel}" ng-if=!validation.required focus-select></span><div ng-if=hasError() class=help-block><label class=control-label><span>{{ \'REQUIRED_ERROR\' | translate }}</span></label></div></div></div>'),e.put("/bower_components/angular-bootstrap-forms/src/zenubuSubmit.tpl.html",'<button type=submit class="btn btn-primary no-icon" ng-disabled="isSaving() || disabled"><span ng-transclude></span></button>'),e.put("/subsection-sidebar/modals/dataSource/dataSource.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><div class=modal-body><label>displayName</label><input class=form-control ng-model="modal.ds.displayName"><br><label>select a service</label><div ng-repeat="service in modal.availableServices"><div ng-click=modal.toggleServiceSelection(service.id) ng-class="modal.isServiceSelected(service.id) ? \'bg-warning\' : \'\'" style="height: 100px; width: 100px">{{service.id}}</div></div><br><label>concept</label><input class=form-control ng-model=modal.ds.concept value=http://dbpedia.org/ontology/University placeholder="http://dbpedia.org/ontology/University"></div><div class=modal-footer><button class="btn btn-success" ng-click=modal.close()><i class="fa fa-fw fa-save"></i> Save</button></div></div></div></div>'),e.put("/subsection-sidebar/modals/download/download.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><div class=modal-body><textarea readonly=readonly style="resize: none">{{modal.config | json}}</textarea><a class=list-group-item ng-href="{{ modal.blobURL }}" download=config.json target=_blank><i class="fa fa-fw fa-cloud-download"></i> Download config.json</a></div><div class=modal-footer><button class="btn btn-success" ng-click=modal.close()>close</button></div></div></div></div>'),e.put("/subsection-sidebar/modals/filterDataSource/filterDataSource.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><div class=modal-body><facet-list ui-model=active.config.breadcrumb constraint-manager=active.config.facetTreeConfig.getFacetConfig().getConstraintManager() lookup-service-node-labels=active.services.lookupServiceNodeLabels constraint-service=active.services.listServiceConstraintLabels facet-service=active.services.facetService facet-value-service=active.services.facetValueService select=selectFacet(path)></facet-list></div><div class=modal-footer><div class=row><div class=col-md-8 style="line-height: 30px"><span>powered by <a href=https://github.com/GeoKnow/Facete2 target=_blank>Facete2 - A faceted browser for (spatial) RDF data</a></span></div><div class=col-md-4><button class="btn btn-success" ng-click=modal.close()><i class="fa fa-fw fa-save"></i> Save</button></div></div></div></div></div></div>'),e.put("/subsection-sidebar/modals/generator/generator.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><div class=modal-body><div ng-if="! modal.zipIsReady"><h5>select an application template</h5><div class=selectBox ng-class="modal.isSelected(template.id) ? \'bg-warning\' : \'\'" ng-repeat="template in modal.availableTemplates" ng-click=modal.selectTemplate(template.id)><span class=head>{{template.displayName}}</span><p>{{template.description}}</p></div><button ng-click=modal.generateApp() class="btn btn-success btn-block text-left"><i class="fa fa-fw fa-cogs"></i> Generate AngularJS App</button></div><div ng-if=modal.zipIsReady><a ng-href="{{ modal.zipBlobURL }}" download=app.zip target=_blank><i class="fa fa-fw fa-cloud-download"></i> Download App</a></div></div><div class=modal-footer></div></div></div></div>'),e.put("/subsection-sidebar/modals/layout/layout.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><zenubu-form submit-function=modal.close model=modal.layout validation-object=modal.validation><div class=modal-body><label>Please define the center of your map below.</label><div class=row><zenubu-input class=col-xs-4 field=lat placeholder=Latitude label=Latitude></zenubu-input><zenubu-input class=col-xs-4 field=lng placeholder=Longitude label=Longitude></zenubu-input><zenubu-input class=col-xs-4 field=zoom placeholder=Zoom label=Zoom></zenubu-input></div><div style="margin-bottom: 5px"><strong>Preview</strong></div><leaflet defaults=modal.mapDefaults center=modal.layout layers=modal.layers width=100% height=300></leaflet></div><div class=modal-footer><zenubu-submit class=btn-success><i class="fa fa-fw fa-save"></i> Save</zenubu-submit></div></zenubu-form></div></div></div>'),e.put("/subsection-sidebar/modals/load/load.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><div class=modal-body><h5>Insert your json here</h5><textarea ng-model=modal.json>\n\n                </textarea><h5>or select an example</h5><div ng-repeat="example in modal.exampleContainer" ng-click=modal.selectExample(example) style="border: 1px solid #ccc; padding: 0 5px ; margin: 5px 0"><h6>{{example.name}}</h6><p>{{example.description}}</p></div></div><div class=modal-footer><button class="btn btn-success" ng-click=modal.close()><i class="fa fa-fw fa-cloud-upload"></i> Load Config</button></div></div></div></div>'),e.put("/subsection-sidebar/modals/mapSettings/mapSettings.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><div class=modal-body><div ng-repeat="(optionKey, optionValue) in modal.mapSettings"><input type=checkbox ng-model=optionValue ng-change="modal.setOption(optionKey, optionValue)"> {{modal.getDescriptionForOption(optionKey)}}</div><div class=clearfix></div></div><div class=modal-footer><button class="btn btn-success" ng-click=modal.close()><i class="fa fa-fw fa-save"></i> Save</button></div></div></div></div>'),e.put("/subsection-sidebar/modals/markerStyle/markerStyle.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><zenubu-form submit-function=modal.close validation-object={} model=modal><div class="modal-body row"><div class=col-xs-12><label>Please select a marker and colors.</label></div><div class=col-xs-6><div><label>Current Marker:</label><i class="fa fa-fw" ng-class="\'fa-\'+ modal.markers.m1.icon.icon" style="width: 30px;font-size: 18px; padding: 4px; margin: 4px"></i></div><div><label>Colors</label><div class=row><zenubu-input-group model=modal.markers.m1.icon><zenubu-select class=col-xs-6 field=markerColor type=array value-object=modal.availableColors label=unselected></zenubu-select></zenubu-input-group><zenubu-input-group model=modal.markers.m2.icon><zenubu-select class=col-xs-6 field=markerColor type=array value-object=modal.availableColors label=selected></zenubu-select></zenubu-input-group></div></div></div><div class=col-xs-6><leaflet defaults=modal.mapDefaults center=modal.layout markers=modal.markers layers=modal.layers width=100% height=100px></leaflet></div><div class=col-xs-12><hr><label>Available icons</label><div class=clearfix><br></div><input class=form-control ng-model=modal.search.$ placeholder="Search the icons, try currency or circle"><div class=clearfix><br></div><div class=iconBox ng-class="(filtered.length < 16)? \'flex-rows-single\' : \'flex-rows-multiple\' "><span ng-repeat="icon in filtered = (modal.availableMarkerStyles | filter : modal.search) " class=btn ng-click="modal.markers.m1.icon.icon = icon.id;modal.markers.m2.icon.icon = icon.id" ng-class="{\'btn-info\': modal.markers.m1.icon.icon === icon.id}"><i class="fa fa-fw" ng-class="\'fa-\' + icon.id"></i></span></div></div><div class=clearfix></div></div><div class=modal-footer><zenubu-submit class=btn-success><i class="fa fa-fw fa-save"></i> Save</zenubu-submit></div></zenubu-form></div></div></div>'),e.put("/subsection-sidebar/modals/popups/popups.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><div class=modal-body><textarea ng-model=modal.popups>\n\n                </textarea></div><div class=modal-footer><button class="btn btn-success" ng-click=modal.close()><i class="fa fa-fw fa-save"></i> Save</button></div></div></div></div>'),e.put("/subsection-sidebar/modals/sponate/sponate.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><div class=modal-body><textarea ng-model=modal.sponate>\n\n                </textarea></div><div class=modal-footer><button class="btn btn-success" ng-click=modal.close()><i class="fa fa-fw fa-save"></i> Save</button></div></div></div></div>'),e.put("/subsection-sidebar/modals/tileLayer/tileLayer.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header>{{modal.title}} <i class="fa fa-times close" ng-click=modal.cancel()></i></div><div class=modal-body><label style="margin-bottom: 15px">Please select the tile layers your map should provide.</label><div class=row><div class=col-xs-6 ng-repeat="(key,val) in modal.availableTileLayer.google"><div class=tile-layer-preview style=background-image:url(images/{{key}}.png) ng-click="modal.tl.google[key] = !modal.tl.google[key]"><div class=preview-inactive ng-if=!modal.tl.google[key]></div><span class=badge>Google: {{key}}</span> <span class=fa-stack><i class="fa fa-3x fa-circle fa-stack-1x" style="color: white"></i> <i class="fa fa-3x fa-stack-1x" ng-class="(modal.tl.google[key])?\'fa-check-circle-o text-success\':\'fa-times-circle-o text-danger\'"></i></span></div></div><div class=col-xs-6><div class=tile-layer-preview style=background-image:url(images/osm.png) ng-click="modal.tl.osm.standard = !modal.tl.osm.standard"><div class=preview-inactive ng-if=!modal.tl.osm.standard></div><span class=badge>osm: standard</span> <span class=fa-stack><i class="fa fa-3x fa-circle fa-stack-1x" style="color: white"></i> <i class="fa fa-3x fa-stack-1x" ng-class="(modal.tl.osm.standard)?\'fa-check-circle-o text-success\':\'fa-times-circle-o text-danger\'"></i></span></div></div></div></div><div class=clearfix></div><div class=modal-footer><button class="btn btn-success" ng-click=modal.close()><i class="fa fa-fw fa-save"></i> Save</button></div></div></div></div>'),e.put("/bower_components/angular-strap/src/alert/alert.tpl.html","<div class=alert ng-class=\"[type ? 'alert-' + type : null]\"><button type=button class=close ng-if=dismissable ng-click=$hide()>&times;</button> <strong ng-bind=title></strong>&nbsp;<span ng-bind-html=content></span></div>"),e.put("/bower_components/angular-strap/src/aside/aside.tpl.html",'<div class=aside tabindex=-1 role=dialog><div class=aside-dialog><div class=aside-content><div class=aside-header ng-show=title><button type=button class=close ng-click=$hide()>&times;</button><h4 class=aside-title ng-bind=title></h4></div><div class=aside-body ng-bind=content></div><div class=aside-footer><button type=button class="btn btn-default" ng-click=$hide()>Close</button></div></div></div></div>'),e.put("/bower_components/angular-strap/src/datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class=text-center><th><button tabindex=-1 type=button class="btn btn-default pull-left" ng-click=$selectPane(-1)><i class={{$iconLeft}}></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex=-1 type=button class="btn btn-default btn-block text-strong" ng-click=$toggleMode()><strong style="text-transform: capitalize" ng-bind=title></strong></button></th><th><button tabindex=-1 type=button class="btn btn-default pull-right" ng-click=$selectPane(+1)><i class={{$iconRight}}></i></button></th></tr><tr ng-show=showLabels ng-bind-html=labels></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class=text-center ng-repeat="(j, el) in row"><button tabindex=-1 type=button class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click=$select(el.date) ng-disabled=el.disabled><span ng-class="{\'text-muted\': el.muted}" ng-bind=el.label></span></button></td></tr></tbody></table></div>'),e.put("/bower_components/angular-strap/src/dropdown/dropdown.tpl.html",'<ul tabindex=-1 class=dropdown-menu role=menu><li role=presentation ng-class="{divider: item.divider}" ng-repeat="item in content"><a role=menuitem tabindex=-1 ng-href={{item.href}} ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind=item.text></a> <a role=menuitem tabindex=-1 href=javascript:void(0) ng-if="!item.divider && item.click" ng-click=$eval(item.click);$hide() ng-bind=item.text></a></li></ul>'),e.put("/bower_components/angular-strap/src/modal/modal.tpl.html",'<div class=modal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header ng-show=title><button type=button class=close ng-click=$hide()>&times;</button><h4 class=modal-title ng-bind=title></h4></div><div class=modal-body ng-bind=content></div><div class=modal-footer><button type=button class="btn btn-default" ng-click=$hide()>Close</button></div></div></div></div>'),e.put("/bower_components/angular-strap/src/popover/popover.tpl.html","<div class=popover><div class=arrow></div><h3 class=popover-title ng-bind=title ng-show=title></h3><div class=popover-content ng-bind=content></div></div>"),e.put("/bower_components/angular-strap/src/select/select.tpl.html",'<ul tabindex=-1 class="select dropdown-menu" ng-show=$isVisible() role=select><li ng-if=$showAllNoneButtons><div class=btn-group style="margin-bottom: 5px; margin-left: 5px"><button type=button class="btn btn-default btn-xs" ng-click=$selectAll()>{{$allText}}</button> <button type=button class="btn btn-default btn-xs" ng-click=$selectNone()>{{$noneText}}</button></div></li><li role=presentation ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role=menuitem tabindex=-1 ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind=match.label></span></a></li></ul>'),e.put("/bower_components/angular-strap/src/tab/tab.tpl.html",'<ul class=nav ng-class=$navClass role=tablist><li ng-repeat="$pane in $panes track by $index" ng-class="$index == $panes.$active ? $activeClass : \'\'"><a role=tab data-toggle=tab ng-click=$setActive($index) data-index="{{ $index }}" ng-bind-html=$pane.title></a></li></ul><div ng-transclude class=tab-content></div>'),e.put("/bower_components/angular-strap/src/timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height=100%><thead><tr class=text-center><th><button tabindex=-1 type=button class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex=-1 type=button class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class=text-center><button tabindex=-1 style="width: 100%" type=button class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled=row[0].disabled><span ng-class="{\'text-muted\': row[0].muted}" ng-bind=row[0].label></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class=text-center><button tabindex=-1 ng-if=row[1].date style="width: 100%" type=button class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled=row[1].disabled><span ng-class="{\'text-muted\': row[1].muted}" ng-bind=row[1].label></span></button></td><td ng-if=showAM>&nbsp;</td><td ng-if=showAM><button tabindex=-1 ng-show="i == midIndex - !isAM * 1" style="width: 100%" type=button ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click=$switchMeridian() ng-disabled=el.disabled>AM</button> <button tabindex=-1 ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type=button ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click=$switchMeridian() ng-disabled=el.disabled>PM</button></td></tr></tbody><tfoot><tr class=text-center><th><button tabindex=-1 type=button class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex=-1 type=button class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>'),e.put("/bower_components/angular-strap/src/tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show=title><div class=tooltip-arrow></div><div class=tooltip-inner ng-bind=title></div></div>'),e.put("/bower_components/angular-strap/src/typeahead/typeahead.tpl.html",'<ul tabindex=-1 class="typeahead dropdown-menu" ng-show=$isVisible() role=select><li role=presentation ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role=menuitem tabindex=-1 ng-click="$select($index, $event)" ng-bind=match.label></a></li></ul>'),e.put("/bower_components/angular-strap-patches/src/dropdown/dropdown.tpl.html",'<ul tabindex=-1 class=dropdown-menu role=menu ng-controller="DropdownCtrl as vm"><li role=presentation ng-repeat="item in content" ng-class="{divider: item.divider}" ng-click=vm.execute(item) ng-hide=vm.hide(item) ng-show=vm.show(item)><a ng-if=item.template compile=item.template></a> <a ng-if="item.templateArray && !vm.model[item.field]" compile=item.templateArray[0]></a> <a ng-if="item.templateArray && vm.model[item.field]" compile=item.templateArray[1]></a></li></ul>')}]),function(){"use strict";function e(e,t,i,n,o){var r=this;r.title=a,r.tl=t.tileLayer,r.availableTileLayer=i,r.cancel=function(){e.dismiss()},r.close=function(){n.setTileLayer(r.tl),e.close(r.tl),o.triggerAutoRefreshConfig()}}var a="Change TileLayers";angular.module("mappifyApp.sidebar.tileLayer",["mappifyApp.sidebar.configService"]).config(["configServiceProvider",function(t){var i={id:"tileLayer",order:70,title:a,fileName:"tileLayer",icon:"globe",ctrl:e},n={tileLayer:["scaffoldingConfigModel",function(e){var a=e.getCurrentConfig("tileLayer");return{tileLayer:a}}],availableTileLayer:["tileLayerModel",function(e){return e.getTileLayers()}]};t.registerConfig(i,n)}]),e.$inject=["$modalInstance","tileLayer","availableTileLayer","scaffoldingConfigModel","mapService"]}(),function(){"use strict";function e(e,t){var i=this;i.title=a,i.sponate="",i.cancel=function(){e.dismiss()},i.close=function(){e.close(i.sponate),t.triggerAutoRefreshConfig()}}var a="Change Sponate Mapping";angular.module("mappifyApp.sidebar.sponate",["mappifyApp.sidebar.configService"]).config(["configServiceProvider",function(){}]),e.$inject=["$modalInstance","mapService"]}(),function(){"use strict";function e(e,t){var i=this;i.title=a,i.popups="",i.cancel=function(){e.dismiss()},i.close=function(){e.close(i.popups),t.triggerAutoRefreshConfig()}}var a="Change Popup Template";angular.module("mappifyApp.sidebar.popups",["mappifyApp.sidebar.configService"]).config(["configServiceProvider",function(){}]),e.$inject=["$modalInstance","mapService"]}(),function(){"use strict";function e(){return{keyboard:!1,dragging:!1,zoomControl:!1,doubleClickZoom:!1,scrollWheelZoom:!1,tap:!1,attributionControl:!1,zoomAnimation:!1,fadeAnimation:!1,markerZoomAnimation:!1}}function a(){return{baselayers:{googleRoadmap:{name:"Google Streets",layerType:"ROADMAP",type:"google"}}}}function t(){return["red","blue","green","purple","orange","darkred","lightred","beige","darkblue","darkgreen","cadetblue","darkpurple","white","pink","lightblue","lightgreen","gray","black","lightgray"]}function i(i,o,r,l,s){function c(i){f.availableColors=t(),f.mapDefaults=e(),f.layers=a(),d(i),f.icon=f.markers.m1.icon.icon,f.unSelectedColor=f.markers.m1.icon.markerColor,f.selectedColor=f.markers.m2.icon.markerColor}function d(e){var a;if(e.hasConfigValueFor(m)){var t=e.getCurrentConfig(m);a={unSelectedColor:t.unselected.markerColor,selectedColor:t.selected.markerColor,icon:t.selected.icon}}else a={unSelectedColor:"blue",selectedColor:"red",icon:"star"};f.markers=u(a)}function u(e){var a={lat:l.lat,lng:l.lng-.03,focus:!1,clickable:!1,draggable:!1,icon:{type:"awesomeMarker",prefix:"fa",icon:e.icon,markerColor:e.unSelectedColor}},t={lat:l.lat,lng:l.lng+.03,focus:!1,clickable:!1,draggable:!1,icon:{type:"awesomeMarker",prefix:"fa",icon:e.icon,markerColor:e.selectedColor}};return{m1:a,m2:t}}function p(){var e={};return e.unselected={prefix:"fa",icon:f.markers.m1.icon.icon,markerColor:f.markers.m1.icon.markerColor,iconColor:"white"},e.selected={prefix:"fa",icon:f.markers.m2.icon.icon,markerColor:f.markers.m2.icon.markerColor},e}var f=this,m="markers";f.title=n,f.search={},f.availableMarkerStyles=r,f.layout=l,f.unSelectedColor=null,f.selectedColor=null,f.icon=null,f.availableColors=null,f.mapDefaults=null,c(o),f.cancel=function(){i.dismiss()},f.close=function(){o.setMarkerStyle(p(f.markers)),i.close({marker:f.markers.m1.icon.icon,selected:f.markers.m2.icon.markerColor,unselected:f.markers.m1.icon.markerColor}),s.triggerAutoRefreshConfig()}}var n="Select Marker Style";angular.module("mappifyApp.sidebar.markerStyle",["mappifyApp.sidebar.configService"]).config(["configServiceProvider",function(e){var a={id:"marker",order:80,title:n,fileName:"markerStyle",icon:"map-marker",ctrl:i},t={availableMarkerStyles:["markerStyleModel",function(e){return e.getMarkerStyles()}],layout:["scaffoldingConfigModel",function(e){var a=e.getCurrentConfig("layout");return{zoom:11,lat:a.viewCenter.latitude,lng:a.viewCenter.longitude}}]};e.registerConfig(a,t)}]),i.$inject=["$modalInstance","scaffoldingConfigModel","availableMarkerStyles","layout","mapService"]}(),function(){"use strict";function e(e,t,i,n){function o(e,a){var t={};return _.each(e,function(e){t[e.key]=e["default"]}),_.each(a,function(e,a){t[a]=e}),t}var r=this,l=i.getCurrentConfigForMapOptions();r.title=a,r.mapSettings=o(t,l),r.getDescriptionForOption=function(e){return t[e].description},r.setOption=function(e,a){r.mapSettings[e]=a},r.cancel=function(){e.dismiss()},r.close=function(){i.setMapOptions(r.mapSettings),e.close(r.mapSettings),n.triggerAutoRefreshConfig()}}var a="Map Settings";angular.module("mappifyApp.sidebar.mapSettings",["mappifyApp.sidebar.configService"]).config(["configServiceProvider",function(t){var i={id:"mapSetting",order:95,title:a,fileName:"mapSettings",icon:"cog",ctrl:e},n={availableMapOptions:["mapSettingOptionModel",function(e){return e.getOptions()}]};t.registerConfig(i,n)}]),e.$inject=["$modalInstance","availableMapOptions","scaffoldingConfigModel","mapService"]}(),function(){"use strict";function e(e,t,i,n){var o=this;o.title=a,o.json="",o.exampleContainer=i,o.selectExample=function(e){o.json=JSON.stringify(e.config,null,2),console.log(e)},o.cancel=function(){e.dismiss()},o.close=function(){t.loadConfigModelFromJSON(o.json),e.close(o.json),n.triggerAutoRefreshConfig()}}var a="Load Config";angular.module("mappifyApp.sidebar.load",["mappifyApp.sidebar.configService"]).config(["configServiceProvider",function(t){var i={id:"load",order:0,title:a,fileName:"load",icon:"cloud-upload",ctrl:e},n={exampleContainer:["exampleContainerModel",function(e){return e.getContainer()}]};t.registerConfig(i,n)}]),e.$inject=["$modalInstance","scaffoldingConfigModel","exampleContainer","mapService"]}(),function(){"use strict";function e(e,t,i,n){var o=this;o.title=a,o.layout=t,o.validation={lat:{required:!0,type:"number",min:"-90",max:"90"},lng:{required:!0,type:"number",min:"-180",max:"180"},zoom:{required:!0,type:"number",min:"1",max:"22"}},o.mapDefaults={keyboard:!1,dragging:!1,zoomControl:!1,doubleClickZoom:!1,scrollWheelZoom:!1,tap:!1,attributionControl:!1,zoomAnimation:!1,fadeAnimation:!1,markerZoomAnimation:!1},o.layers={baselayers:{googleRoadmap:{name:"Google Streets",layerType:"ROADMAP",type:"google"}}},o.cancel=function(){e.dismiss()},o.close=function(){i.setZoom(o.layout.zoom),i.setViewCenter(o.layout.lat,o.layout.lng),e.close(o.layout),n.triggerAutoRefreshConfig()}}var a="Change Zoom/Center";angular.module("mappifyApp.sidebar.layout",["leaflet-directive","mappifyApp.sidebar.configService","mappifyApp.service.mapService"]).config(["configServiceProvider",function(t){var i={id:"layout",order:61,fileName:"layout",title:a,icon:"location-arrow",ctrl:e},n={layout:["scaffoldingConfigModel",function(e){var a=e.getCurrentConfig("layout");return{zoom:a.zoom,lat:a.viewCenter.latitude,lng:a.viewCenter.longitude}}]};t.registerConfig(i,n)}]),e.$inject=["$modalInstance","layout","scaffoldingConfigModel","mapService"]}(),function(){"use strict";function e(e,i){var n=this,o="jassa";n.title=t,n.availableTemplates=i.getAllRegisteredStrategies(),n.zipIsReady=!1,n.zipBlobURL=null,n.generateApp=function(){i.generateApp(o).then(function(e){n.zipBlobURL=a(e),n.zipIsReady=!0
})},n.selectTemplate=function(e){o=e},n.isSelected=function(e){return o===e},n.cancel=function(){e.dismiss()},n.close=function(){e.close(n.layout)}}function a(e){var a;a=e.generate(JSZip.support.uint8array?{type:"uint8array"}:{type:"string"});var t=new Blob([a],{type:"application/zip"});return URL.createObjectURL(t)}var t="Generate Angular App";angular.module("mappifyApp.sidebar.generator",["mappifyApp.sidebar.configService","mappifyApp.generator"]).config(["configServiceProvider",function(a){var i={id:"generator",order:1e3,fileName:"generator",title:t,icon:"cogs",ctrl:e},n={layout:["scaffoldingConfigModel",function(e){var a=e.getCurrentConfig("layout");return{zoom:a.zoom,lat:a.viewCenter.latitude,lng:a.viewCenter.longitude}}]};a.registerConfig(i,n)}]),e.$inject=["$modalInstance","generatorService"]}(),function(){"use strict";function e(e){var t=this;t.title=a,t.cancel=function(){e.dismiss()},t.close=function(){e.close(t.popups),mapService.triggerAutoRefreshConfig()}}var a="Filter DataSource";angular.module("mappifyApp.sidebar.filterDataSource",["mappifyApp.sidebar.configService","mappifyApp.service.dddiContainer","ui.jassa"]).config(["configServiceProvider",function(t){var i={id:"filterDataSource",order:25,title:a,fileName:"filterDataSource",icon:"filter",ctrl:e};t.registerConfig(i)}]),e.$inject=["$modalInstance","dddiContainer"]}(),function(){"use strict";function e(e,t){function i(){var e=JSON.stringify(n.config,null,2),a=new Blob([e],{type:"application/json"});return URL.createObjectURL(a)}var n=this;n.title=a,n.config=t,n.blobURL=i(),n.cancel=function(){e.dismiss()},n.close=function(){e.close(n.json)}}var a="Download Config";angular.module("mappifyApp.sidebar.download",["mappifyApp.sidebar.configService"]).config(["configServiceProvider",function(t){var i={id:"download",order:100,title:a,fileName:"download",icon:"cloud-download",ctrl:e},n={config:["scaffoldingConfigModel",function(e){return e.getCurrentConfig()}]};t.registerConfig(i,n)}]).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|file|blob):/)}]),e.$inject=["$modalInstance","config"]}(),function(){"use strict";function e(e,t,i,n){function o(e){var a=e.getCurrentConfig("dataSources");return _.isEmpty(a)?{}:_.first(a)}function r(e){return _.isEmpty(e)?null:e.hasOwnProperty("service")?e.service.id:null}function l(){function e(e){return _.find(t,function(a){return a.id===e})}null!==s.selectedService&&(s.ds.service=e(s.selectedService))}var s=this;s.title=a,s.ds=o(i),s.selectedService=r(s.ds),s.availableServices=t,s.toggleServiceSelection=function(e){s.selectedService=e===s.selectedService?null:e},s.isServiceSelected=function(e){return e===s.selectedService},s.cancel=function(){e.dismiss()},s.close=function(){l(),i.setSetDataSource(s.ds),e.close(s.ds),n.triggerAutoRefreshConfig()}}var a="Change DataSource";angular.module("mappifyApp.sidebar.dataSource",["zenubu.input","mappifyApp.sidebar.configService"]).config(["configServiceProvider",function(t){var i={id:"dataSource",order:20,title:a,fileName:"dataSource",icon:"database",ctrl:e},n={availableServices:["dataSourceServiceModel",function(e){return e.getDataSourceServices()}]};t.registerConfig(i,n)}]),e.$inject=["$modalInstance","availableServices","scaffoldingConfigModel","mapService"]}(),function(){"use strict";function e(e,a){function t(){return{appName:c}}function i(){return{appName:c,dataSourceDefinitionObject:n(e),mapConfig:o()}}function n(e){return r(e.createFromScaffoldingConfig())}function o(){return r(a.createFromScafoldingConfig())}function r(e){return JSON.stringify(e,null,2).replace(/"/g,"'")}function l(){return{appName:c,mappify:' <mappify id="map" datasource="main.datasource" config="main.config"></mappify>',googleMaps:""}}var s=this,c="myApp";s.getTemplateValueProviderByKey=function(e){switch(e){case"app":return i();case"index":return l();case"default":return t();default:new Error("jassaStrategyService: no TemplateValueProvider found for key "+e.toString())}}}angular.module("mappifyApp.generator.jassa.templateValueProvider",["mappifyApp.models.dataSourceConfigModel","mappifyApp.models.scaffoldingConfigModel"]).service("jassaTemplateValueProvider",e),e.$inject=["dataSourceConfigModel","mapConfigModel"]}(),function(){"use strict";function e(){var e=this,a="template/jassa/",t=[{templateValueProviderKey:"app",url:a+"app.js.tpl",fileName:"app.js",folder:"app"},{templateValueProviderKey:"index",url:a+"index.html.tpl",fileName:"index.html",folder:"app"},{templateValueProviderKey:"default",url:a+"jassaDataSourceFactory.js.tpl",fileName:"jassaDataSourceFactory.js",folder:"app"},{templateValueProviderKey:"default",url:a+"package.tpl",fileName:"package.json"},{templateValueProviderKey:"default",url:a+"bower.tpl",fileName:"bower.json"},{templateValueProviderKey:"default",url:a+"jshintrc.tpl",fileName:".jshintrc"},{templateValueProviderKey:"default",url:a+"gulpfile.js.tpl",fileName:"gulpfile.js"},{templateValueProviderKey:"default",url:a+"readme.md",fileName:"readme.md"}];e.getTemplateFileSet=function(){return t},e.setBaseUrl=function(e){a=e},e.getBaseUrl=function(){return a}}angular.module("mappifyApp.generator.jassa.templateFileProvider",[]).service("jassaStrategyTemplateFileProvider",e)}(),function(){"use strict";function e(e,a,t,i){function n(e){return _.isObject(e.data)?JSON.stringify(e.data,null,2):e.data}function o(e,a){var i=_.template(e),n=t.getTemplateValueProviderByKey(a.templateValueProviderKey),o={fileContent:i(n),fileName:a.fileName};return a.hasOwnProperty("folder")&&(o.folder=a.folder),o}function r(a){return e.get(a)}var l=this,s=i.getTemplateFileSet();l.generate=function(){var e=s.map(function(e){return r(e.url).then(n).then(function(a){return o(a,e)})});return a.all(e)}}angular.module("mappifyApp.generator.jassa",["mappifyApp.generator.jassa.templateFileProvider","mappifyApp.generator.jassa.templateValueProvider"]).service("jassaStrategyService",e),e.$inject=["$http","$q","jassaTemplateValueProvider","jassaStrategyTemplateFileProvider"]}(),function(){"use strict";function e(e,o,r,l,s){function c(){return g.config=r.createFromScafoldingConfig(),g.config}function d(){return g.datasource=n(l.createFromScaffoldingConfig(),s),g.datasource}function u(){!0===g.autoRefresh&&g.refreshConfig()}function p(){a(e,!1),t(e),i(e),o(function(){a(e,!0)},1500)}function f(){return{viewCenter:{latitude:51.339018,longitude:12.3797776},zoom:12}}function m(){return{fetchData:function(){return[]}}}var g=this;g.config={},g.datasource={},g.showMap=!0,g.autoRefresh=!0,g.initialtMapConfig=f(),g.initialDatasource=m(),g.getMapConfig=c,g.getDataSource=d,g.triggerAutoRefreshConfig=u,g.refreshConfig=p}function a(e,a){e.$emit("mapVisibilityChanged",a)}function t(e){e.$emit("mapConfigChanged")}function i(e){e.$emit("mapDataSourceConfigChanged")}function n(e,a){if("function"!=typeof a.createDataSource)throw new Error("mapService: the passed datasourcefactory does not provide the required createDataSource method");var t=a.createDataSource(e);return[t]}angular.module("mappifyApp.service.mapService",["mappifyApp.service.jassaDataSourceFactory","mappifyApp.models.dataSourceConfigModel","mappifyApp.models.mapConfigModel"]).service("mapService",e),e.$inject=["$rootScope","$timeout","mapConfigModel","dataSourceConfigModel","jassaDataSourceFactory"]}(),function(){"use strict";function e(){function e(e,a,t){return jassa.geo.GeoDataSourceUtils.createGeoDataSourceLabels(e,a,t,{})}function a(e){return jassa.sparql.ConceptUtils.createTypeConcept(e)}function t(e,a){return jassa.service.SparqlServiceBuilder.http(e,a,{type:"POST"}).cache().virtFix().paginate(l).pageExpand(s).create()}function i(e){if(e=e.toLowerCase(),"wgs84"===e)return jassa.geo.GeoMapFactoryUtils.wgs84MapFactory;if("wkt"===e)return jassa.geo.GeoMapFactoryUtils.createWktMapFactory(c.wktPredicateName,c.intersectsFnName,c.geomFromTextFnName);throw new Error("unsupported GeoMapFactory type: "+e)}function n(e){var a=Math.floor(Number(e));return String(a)===e&&a>=0}function o(e){e.hasOwnProperty("paginateValue")&&n(e.paginateValue)&&(l=e.paginateValue),e.hasOwnProperty("pageExpand")&&n(e.pageExpand)&&(l=e.pageExpand),e.hasOwnProperty("wktMapFactoryOptions")&&(c=e.pageExpand)}var r=this,l=1500,s=100,c={wktPredicateName:"http://www.w3.org/2003/01/geo/wgs84_pos#geometry",intersectsFnName:"bif:st_intersects",geomFromTextFnName:"bif:st_geomFromText"};r.createDataSource=function(n){return o(o),e(t(n.service,n.graphUriSet),i(n.geoMapType),a(n.concept))}}angular.module("mappifyApp.service.jassaDataSourceFactory",[]).service("jassaDataSourceFactory",e)}(),function(){"use strict";function e(e,a){e.langs=["en","de"];var t=e;t.selectFacet=function(){},t.ObjectUtils=jassa.util.ObjectUtils,e.active={services:{},config:{breadcrumb:{},dataService:{serviceIri:"http://fp7-pp.publicdata.eu/sparql",defaultGraphIris:["http://fp7-pp.publicdata.eu/"]},facetTreeConfig:new jassa.facete.FacetTreeConfig}};var i=a(e);i.register("active.services.labelLiteralPreference",["=langs",function(e){var a=new jassa.sparql.LiteralPreference(e);return a}]),i.register("active.services.sparqlService",["=active.config.dataService",function(e,a){var t=null==a?jassa.service.SparqlServiceBuilder.http(e.serviceIri,e.defaultGraphIris,{type:"POST"}):jassa.service.SparqlServiceBuilder.http(a,e.defaultGraphIris,{type:"POST"},{"service-uri":e.serviceIri}),i=null;t=t.cache(i);var n=t.virtFix().paginate(1e3).pageExpand(100).create();return n}]),i.register("active.services.lookupServiceNodeLabels",["active.services.sparqlService","active.services.labelLiteralPreference",function(e,a){var t=jassa.sponate.LookupServiceUtils.createLookupServiceNodeLabels(e,a,20);return t}]),i.register("active.services.lookupServicePathLabels",["active.services.lookupServiceNodeLabels",function(e){var a=new jassa.facete.LookupServicePathLabels(e);return a}]),i.register("active.services.lookupServiceConstraintLabels",["active.services.lookupServiceNodeLabels","active.services.lookupServicePathLabels",function(e,a){var t=new jassa.facete.LookupServiceConstraintLabels(e,a);return t}]),i.register("active.services.listServiceConstraintLabels",["active.services.lookupServiceConstraintLabels","ObjectUtils.hashCode(active.config.facetTreeConfig.getFacetConfig().getConstraintManager())",function(e){var a=t.active.config.facetTreeConfig.getFacetConfig().getConstraintManager(),i=null!=a?a.getConstraints():[],n=e.lookup(i).then(function(e){var a=i.map(function(a){var t=e.get(a),i={key:a,val:{constraint:a,displayLabel:t}};return i}),t=function(e){var a;if(null!=e){var t=new RegExp(e,"mi");a=function(e){var a=t.test(e.val.displayLabel);return a}}else a=function(){return!0};return a},n=new jassa.service.ListServiceArray(a,t);return n});return n}]),i.register("active.services.facetService",["active.services.sparqlService","ObjectUtils.hashCode(active.config.facetTreeConfig.getFacetConfig())","active.services.labelLiteralPreference",function(e,a,i){var n=t.active.config.facetTreeConfig.getFacetConfig(),o=jassa.facete.FacetServiceBuilder.core(e,n).labelConfig(i).index().create();return o}]),i.register("active.services.facetValueService",["active.services.sparqlService","ObjectUtils.hashCode(active.config.facetTreeConfig.getFacetConfig())","active.services.labelLiteralPreference",function(e,a,i){var n=t.active.config.facetTreeConfig.getFacetConfig(),o=5e6,r=jassa.facete.FacetValueServiceBuilder.core(e,n,o).labelConfig(i).constraintTagging().create();return r}])}angular.module("mappifyApp.service.dddiContainer",["dddi"]).service("dddiContainer",e),e.$inject=["$rootScope","$dddi"]}(),function(){"use strict";function e(e,a){function t(e){return e.data}function i(e){return n=t(e)}var n,o=this,r={FETCH:"data/tileLayer.json"};o.getTileLayers=function(){return n?a.when(n):e.get(r.FETCH).then(i)}}angular.module("mappifyApp.models.tileLayer",[]).service("tileLayerModel",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,a){function t(e){return e.data.icons}function i(e){return n=t(e)}var n,o=this,r={FETCH:"data/markerStyle.json"};o.getMarkerStyles=function(){return n?a.when(n):e.get(r.FETCH).then(i)}}angular.module("mappifyApp.models.markerStyleModel",[]).service("markerStyleModel",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,a){function t(e){return e.data}function i(e){return n=t(e)}var n,o=this,r={FETCH:"data/mapSetting.json"};o.getOptions=function(){return n?a.when(n):e.get(r.FETCH).then(i)}}angular.module("mappifyApp.models.mapSettingOptionModel",[]).service("mapSettingOptionModel",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,a){function t(e){return e.data}function i(e){return n=t(e)}var n,o=this,r={FETCH:"data/examples.json"};o.getContainer=function(){return n?a.when(n):e.get(r.FETCH).then(i)}}angular.module("mappifyApp.models.exampleContainerModel",[]).service("exampleContainerModel",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,a){function t(e){return e.data}function i(e){return n=t(e)}var n,o=this,r={FETCH:"data/dataSourceService.json"};o.getDataSourceServices=function(){return n?a.when(n):e.get(r.FETCH).then(i)},o.getDataSourceServiceByName=function(e){function t(){return _.find(n,function(a){return a.displayName===e})}var i=a.defer();return n?i.resolve(t(e)):o.getDataSourceServices().then(function(){i.resolve(t(e))}),i.promise}}angular.module("mappifyApp.models.dataSourceService",[]).service("dataSourceServiceModel",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(){function e(e){if(e){if(f.hasOwnProperty(e))return angular.copy(f[e]);if(_.indexOf(m,e)>-1)return[];throw new Error(t(e))}return angular.copy(f)}function a(e){if(-1===_.indexOf(m,e))throw new Error(t(e));return f.hasOwnProperty(e)}function t(e){return"scaffoldingConfigModel: unsupported config key ("+e.toString()+"). check the allowedConfigKeys array."}function i(){return f.hasOwnProperty("mapOption")?angular.copy(f.mapOption):{}}function n(e){f.layout.zoom=e}function o(e,a){f.layout.viewCenter.latitude=e,f.layout.viewCenter.longitude=a}function r(e){f=JSON.parse(e)}function l(e){f.tileLayer=e}function s(e){f.markers=e}function c(e){f.dataSources=f.dataSources||[];var a=u(e);-1===a?f.dataSources.push(e):f.dataSources[a]=e}function d(e){f.mapOption=e}function u(e){return _.findIndex(f.dataSources,function(a){return a.displayName===e.displayName})}var p=this,f={layout:{viewCenter:{latitude:51.339018,longitude:12.3797776},zoom:6},tileLayer:{google:{hybrid:!1}}},m=["dataSources","layout","mapOption","markers","tileLayer"];return p.getCurrentConfig=e,p.getCurrentConfigForMapOptions=i,p.loadConfigModelFromJSON=r,p.hasConfigValueFor=a,p.setMapOptions=d,p.setMarkerStyle=s,p.setSetDataSource=c,p.setTileLayer=l,p.setViewCenter=o,p.setViewCenter=o,p.setZoom=n,p}angular.module("mappifyApp.models.scaffoldingConfigModel",[]).service("scaffoldingConfigModel",e)}(),function(){"use strict";function e(e){function a(){var a={},t=e.getCurrentConfig();return a.zoom=t.layout.zoom,a.viewCenter=t.layout.viewCenter,a.marker=t.markers,a}var t=this;t.createFromScafoldingConfig=a}angular.module("mappifyApp.models.mapConfigModel",["mappifyApp.models.scaffoldingConfigModel"]).service("mapConfigModel",e),e.$inject=["scaffoldingConfigModel"]}(),function(){"use strict";function e(e){function a(){var a=e.getCurrentConfig();if(!a.hasOwnProperty("dataSources")||!_.isArray(a.dataSources))throw new Error("dataSourceConfigModel: the config contains no dataSource definitions");if(1===a.dataSources.length)return t(a.dataSources[0]);throw new Error("dataSourceConfigModel: currently supports only single dataSource definitions")}function t(e){if(!e.hasOwnProperty("service"))throw new Error("dataSourceConfigModel: the config contains not data source service");var a={};return a.concept=e.concept,a.graphUriSet=e.service.defaultGraphUris,a.service=e.service.serviceUrl,a.geoMapType=e.service.geoMapFactory,a}var i=this;i.createFromScaffoldingConfig=a}angular.module("mappifyApp.models.dataSourceConfigModel",["mappifyApp.models.scaffoldingConfigModel"]).service("dataSourceConfigModel",e),e.$inject=["scaffoldingConfigModel"]}(),function(){"use strict";function e(e,a,t){var i=this;i.availableModals=a.availableConfigs,i.generatorModal=a.getGeneratorModal,i.refreshConfig=t.refreshConfig,i.autoRefresh=t.autoRefresh,i.currentlyRefreshing=!1,i.toggleAutoRefresh=function(){i.autoRefresh=!i.autoRefresh,t.autoRefresh=i.autoRefresh},e.$on("mapVisibilityChanged",function(e,a){i.currentlyRefreshing=!a})}angular.module("mappifyApp.sidebar",["ui.router","mappifyApp.generator","mappifyApp.models.dataSourceService","mappifyApp.models.exampleContainerModel","mappifyApp.models.mapConfigModel","mappifyApp.models.markerStyleModel","mappifyApp.models.mapSettingOptionModel","mappifyApp.models.scaffoldingConfigModel","mappifyApp.models.tileLayer","mappifyApp.sidebar.configService","mappifyApp.sidebar.dataSource","mappifyApp.sidebar.download","mappifyApp.sidebar.generator","mappifyApp.sidebar.layout","mappifyApp.sidebar.load","mappifyApp.sidebar.mapSettings","mappifyApp.sidebar.markerStyle","mappifyApp.sidebar.popups","mappifyApp.sidebar.sponate","mappifyApp.sidebar.tileLayer","mappifyApp.sidebar.filterDataSource","mappifyApp.service.mapService"]).controller("SidebarController",e),e.$inject=["$rootScope","configService","mapService"]}(),function(){"use strict";function e(){function e(e,a,i){_.isFunction(a)&&(i=a,a={}),_.isFunction(i)||(i=function(){}),t[e.order+e.fileName]={description:e,resolveFunctions:a,callbackFunction:i}}function a(e){function a(e,a,t){n.availableConfigs.push({id:e.id,title:e.title,icon:e.icon,open:function(){return i({template:"/subsection-sidebar/modals/"+e.fileName+"/"+e.fileName+".tpl.html",controller:e.ctrl,controllerAs:"modal",resolve:a}).then(t)}})}function i(a){return e.open(a).then(function(e){return e.result})}var n={};return n.availableConfigs=[],_(t).sortBy(function(e){return e.description.order}).forEach(function(e){a(e.description,e.resolveFunctions,e.callbackFunction)}).value(),n.getGeneratorModal=function(){return _.find(n.availableConfigs,function(e){return"generator"===e.id})},n}var t={};return a.$inject=["$modal"],{registerConfig:e,$get:a}}angular.module("mappifyApp.sidebar.configService",[]).provider("configService",e)}(),function(){"use strict";function e(e,a){var t=this;t.showMap=a.showMap,t.config=a.initialtMapConfig,t.datasource=a.initialDatasource,e.$on("mapVisibilityChanged",function(e,a){t.showMap=a}),e.$on("mapConfigChanged",function(){t.config=a.getMapConfig()}),e.$on("mapDataSourceConfigChanged",function(){t.datasource=a.getDataSource()})}angular.module("mappifyApp.main",["ui.router","mappifyApp.service.jassaDataSourceFactory","mappifyApp.service.mapService"]).controller("MainController",e),e.$inject=["$rootScope","mapService"]}(),function(){"use strict";function e(e){function a(a){if(!n.hasOwnProperty(a))throw new Error("generatorService: the provided generator strategy is not supported");if("jassa"===a)return e;throw new Error("generatorService: no service found")}function t(e){var a=new JSZip;return _.each(e,function(e){e.hasOwnProperty("folder")?a.folder(e.folder).file(e.fileName,e.fileContent):a.file(e.fileName,e.fileContent)}),a}var i=this;i.getAllRegisteredStrategies=function(){return n},i.generateApp=function(e){var i=a(e);return i.generate().then(function(e){return t(e)})};var n={jassa:{id:"jassa",displayName:"Jassa strategy",description:"create angular app using jassa as datasourceand the mappify map component to visualize the data"}}}angular.module("mappifyApp.generator",["mappifyApp.generator.jassa"]).service("generatorService",e),e.$inject=["jassaStrategyService"]}();